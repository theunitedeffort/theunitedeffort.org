---
layout: layouts/base.liquid
title: Shelter Results Summary
permalink: 
  serverless: "/protected/resources/shelter/table"
pageClass: "page-resources page_housing_table"
pageHead: '<style type="text/css" media="print">@page {size: landscape;}</style>
  <script src="/js/sorttable.js" defer></script>'
---

{% assign query = eleventy.serverless.query %}
{% assign shelters = housing.shelterList | filterSheltersByQuery: query %}
{% assign numFiltersApplied = query | numFiltersApplied %}
{% assign numResults = shelters | size %}

<a href="/protected/resources/shelter/filter?{{query | queryString}}" class="noprint">&#8592; Back to results list</a>

{% if numFiltersApplied > 0 %}
  <p>Filters Applied:<br/> {% querySummary query %}</p>
{% endif %}

<div class="flex align_end">
  <h3>Showing {% if numFiltersApplied == 0 %}all {% endif %} {{numResults}} {{numResults | pluralize: "shelter", "shelters"}}</h3>

  <a class="btn btn_secondary noprint" title="Print table" href="javascript:window.print();">
    <svg role="img" aria-hidden="true" focusable="false" class="icon ">
      <use xlink:href="/images/sprites.svg#print"></use>
    </svg>
    Print table
  </a>
</div>
<table id="shelter-table-summary" class="printed sortable">
  <thead>
    <tr>
      <th style="width:8%;">Name<span class="noprint"> & Link</span></th>
      <th style="width:8%;">Provider</th>
      <th style="width:32%;">Description</th>
      <th style="width:8%;">Address</th>
      <th style="width:7%;" class="sorttable_sorted">City</th>
      <th style="width:10%;">Phone</th>
      <th style="width:9%;">Email</th>
      <th style="width:8%;">Access</th>
      <th style="width:10%;">Populations Served</th>
    </tr>
  </thead>
  <tbody>
    {% for shelter in shelters %}
      <tr>
        <td translate="no">
          {% if shelter.website and shelter.website != '' %}
            <a class="noprint" href="{{ shelter.website }}" target="_blank" rel="noopener">{{ shelter.title }}</a>
          {% else %}
            <span class="noprint">{{shelter.title}}</span>
          {% endif %}
          <span class="only_print">{{shelter.title}}</span>
        </td>
        <td translate="no">{{ shelter.organization }}</td>
        <td>{{ shelter.description }}</td>
        <td translate="no">{{ shelter.address }}</td>
        <td translate="no">{{ shelter.city }}</td>
        <td>{{ shelter.phone }}</td>
        <td translate="no">{{ shelter.email }}</td>
        <td>{{ shelter.access }}
          {% if shelter.referrers and shelter.referrers.length > 0 %}
            via {{ shelter.referrers | map: "name" | join: " or " }}
          {% endif %}
        </td>
        <td> {{ shelter.populationsServed | join: ", " }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
